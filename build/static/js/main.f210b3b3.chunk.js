(this.webpackJsonpenye=this.webpackJsonpenye||[]).push([[0],{35:function(e,n,t){},36:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(0),o=t(1),s=t.n(o),r=t(21),a=t.n(r),i=(t(35),t(11)),l=t.n(i),u=t(22),d=t(23),h=t(24),j=t(29),b=t(28),p=t(4),f=t(6),m=(t(36),t(17)),x=t(8),O=t(3),g=t(7),v=t(5),y=t(10),w=t.n(y);function C(){var e=Object(f.a)(["\n    color:white;\n    background: #900C3F;\n    "]);return C=function(){return e},e}function S(){var e=Object(f.a)(["\n    padding:10px 15px;\n    font-family:'open sans',sans-serif;\n    font-weight:600;\n    font-size: 16px;\n    margin:5px;\n    padding:8px 15px;\n    border:none;\n    border-radius: 8px;\n    background:whitesmoke;\n\n    ","   \n\n    :hover, :focus{\n    color:white;\n    background: #581845;\n    transform:scale(1.1);\n    }\n    \n    :hover{\n        cursor:pointer;\n    }\n\n    :focus{\n    outline:none;\n    }\n"]);return S=function(){return e},e}w.a.setApiKey("AIzaSyBWzinOeh3ezDj0woIV4N1PTMbEpuQa_9M"),w.a.setLanguage("en"),w.a.enableDebug();g.b.add(v.f);var k=x.b.button(S(),(function(e){return e.active&&Object(x.a)(C())})),N=function(e){var n,t=e.pages,s=Object(o.useState)(0),r=Object(m.a)(s,2),a=r[0],i=r[1],l=Object(o.useState)(!0),u=Object(m.a)(l,2),d=u[0],h=u[1],j=function(e){i(e),document.body.scrollTop=0,document.documentElement.scrollTop=0,h(!1),setTimeout((function(){h(!0)}),50)};return Object(c.jsxs)(c.Fragment,{children:[(n=t[a],void 0===n||0===n.length?Object(c.jsx)("h5",{children:"No results found..."}):n.map((function(e,n){var t,o,s=(t="".concat(e.Latitude),o="".concat(e.Longitude),void w.a.fromLatLng(t,o).then((function(e){var n=e.results[0].formatted_address;return console.log("Address",n),n}),(function(e){console.error(e)})));return s||(s="Not found"),Object(c.jsxs)("div",{className:d?"animate-opacity profile_cards":"profile_cards",children:[Object(c.jsxs)("p",{className:"name",children:["".concat(e.FirstName),Object(c.jsx)("span",{children:"".concat(e.LastName)})]}),Object(c.jsx)("p",{className:"username",children:e.Username}),Object(c.jsxs)("ul",{id:"contact-details",className:"details",children:[Object(c.jsxs)("li",{children:[Object(c.jsx)(O.a,{icon:"at"}),"  ","".concat(e.UserName).toLowerCase()]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(O.a,{icon:"venus-mars"}),"  ","".concat(e.Gender)]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(O.a,{icon:"phone-alt"}),"  ","".concat(e.PhoneNumber)]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(O.a,{icon:"envelope"}),"  ","".concat(e.Email).toLowerCase()]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(O.a,{icon:"globe"}),"  ","".concat(e.DomainName).toLowerCase()]})]}),Object(c.jsxs)("ul",{id:"transaction-details",className:"details",children:[Object(c.jsxs)("li",{children:[Object(c.jsxs)("h6",{children:[Object(c.jsx)(O.a,{icon:"map-marker-alt"})," Location"]}),Object(c.jsx)("p",{children:"".concat(s)})]}),Object(c.jsxs)("li",{children:[Object(c.jsxs)("h6",{children:[Object(c.jsx)(O.a,{icon:"laptop-house"})," Mac-address"]}),Object(c.jsx)("p",{children:"".concat(e.MacAddress)})]}),Object(c.jsxs)("li",{children:[Object(c.jsxs)("h6",{children:[Object(c.jsx)(O.a,{icon:"credit-card"})," ","".concat(e.CreditCardType)]}),Object(c.jsx)("p",{children:"".concat(e.CreditCardNumber)})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)("h6",{children:"Payment Method"}),Object(c.jsx)("p",{children:"".concat(e.PaymentMethod)})]}),Object(c.jsxs)("li",{className:"footer",children:[Object(c.jsxs)("p",{children:["Url: ","".concat(e.URL).toLowerCase()]}),Object(c.jsxs)("p",{children:["Last seen: ","".concat(e.LastLogin)]})]})]})]},"profile".concat(n))}))),function(){var e=[];if(1===t.length)return null;for(var n=1;n<=t.length;n++)e.push(n);return Object(c.jsx)("div",{id:"pagination-buttons",children:e.map((function(e,n){return Object(c.jsx)(k,{active:a+1===e,onClick:function(){j(e-1)},children:e},n)}))})}()]})};function L(){var e=Object(f.a)(["\n    color:white;\n    background:#581845;\n\n    :hover,:focus{\n      color:black;\n      background:white;\n    }\n\n  "]);return L=function(){return e},e}function T(){var e=Object(f.a)(["\n  position:fixed;\n  top:6vh;\n  right:15px;\n  padding:10px;\n  width:50px;\n  height:50px;\n  text-align:center;\n  border:none;\n  border-radius:50%;\n  background:white;\n  color:black;\n  font-size:1em;\n  z-index:99;\n  filter:drop-shadow(0px 0px 5px rgba(80, 80, 80, 0.26));\n\n  ","\n\n\n  :hover{\n    cursor:pointer;\n  }\n\n  :hover{\n    color:whitesmoke;\n    background:#581845;\n    transform:scale(1.1);\n  }\n  :focus{\n    outline:none\n  }\n"]);return T=function(){return e},e}function M(){var e=Object(f.a)(["\n  position:fixed;\n  bottom:15vh;\n  display:none;\n  right:2%;\n  padding:10px 15px;\n  width:50px;\n  height:50px;\n  text-align:center;\n  border:none;\n  border-radius:50%;\n  background:white;\n  color:black;\n  font-size:1em;\n  filter:drop-shadow(0px 0px 10px rgba(80, 80, 80, 0.26));\n  \n\n  :hover{\n    cursor:pointer;\n  }\n\n  :hover,:focus{\n    color:whitesmoke;\n    background:#581845;\n    transform:scale(1.1);\n  }\n  :focus{\n    outline:none\n  }\n"]);return M=function(){return e},e}window.onscroll=function(){P()};var P=function(){var e=window.scrollY,n=document.getElementById("backToTop"),t=document.getElementById("nav-button");e>500?(t.style.display="none",n.style.display="block"):(t.style.display="block",n.style.display="none")},I=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},F=x.b.button(M()),z=x.b.button(T(),(function(e){return e.toggle&&Object(x.a)(L())})),E=function(e){return function(e){var n=e.map((function(e){return e.Gender})),t=e.map((function(e){return e.PaymentMethod})),c=e.map((function(e){return e.CreditCardType})),o=n.filter((function(e,t){return t===n.indexOf(e)})),s=t.filter((function(e,n){return n===t.indexOf(e)})),r=c.filter((function(e,n){return n===c.indexOf(e)}));return[{name:"Gender",options:Object(p.a)(o)},{name:"Payment Method",options:Object(p.a)(s)},{name:"Card Type",options:Object(p.a)(r)}]}(e.profiles).map((function(n,t){return Object(c.jsx)("div",{className:"dropdown",children:Object(c.jsxs)("button",{children:[n.name," ",Object(c.jsx)(O.a,{size:"lg",icon:v.c}),Object(c.jsx)("div",{className:"options",children:n.options.map((function(n){return Object(c.jsx)("input",{value:n,type:"text",readOnly:!0,onClick:function(){return e.handleSort(n)}},n)}))})]})},n.name)}))},B=function(e){Object(j.a)(t,e);var n=Object(b.a)(t);function t(e){var o;return Object(d.a)(this,t),(o=n.call(this,e)).handleSearch=function(e){o.setState((function(){return{searchInput:e.target.value,action:"search"}}),(function(){if(""===o.state.searchInput)o.setState({action:null});else{var e=o.state.searchInput.toLowerCase(),n=Object(p.a)(o.state.profiles).filter((function(n){var t=n.FirstName.toLowerCase(),c=n.LastName.toLowerCase();return!(!t.includes(e)&&!c.includes(e))}));o.renderPage(n)}}))},o.renderPage=function(e){for(var n=Object(p.a)(e),t=[],c=0;c<=n.length;c++){var s=n.splice(0,20);t.push(s)}o.setState({pages:[].concat(t)})},o.closeMenu=function(){o.setState({toggle:!0},(function(){o.handleToggle()}))},o.handleToggle=function(){var e=document.querySelector("#sortMenu");o.state.fetchSuccess&&o.setState((function(e){return e.toggle?{toggle:!1}:{toggle:!0}}),(function(){o.state.toggle?(document.body.className="menu-view",e.className="push-in"):(document.body.className="",e.className="push-out")}))},o.defaultProfileView=function(){if(o.state.fetchSuccess){if(document.body.scrollTop=0,document.documentElement.scrollTop=0,!o.state.profiles)return o.setState({fetchSuccess:!1}),null;for(var e=Object(p.a)(o.state.profiles),n=[],t=0;t<=e.length;t++){var c=e.splice(0,20);n.push(c)}o.setState({profiles:Object(p.a)(o.state.profiles),pages:[].concat(n),action:null,searchInput:"",fetchSuccess:!0,isLoading:!1,sort:null})}else o.fetchRecords()},o.handleSort=function(e){o.closeMenu(),document.body.scrollTop=0,document.documentElement.scrollTop=0;var n=e.toLowerCase(),t=null,c=Object(p.a)(o.state.profiles).filter((function(e){var c=e.Gender.toLowerCase(),o=e.CreditCardType.toLowerCase(),s=e.PaymentMethod.toLowerCase();return c.includes(n)?(t=["Gender","".concat(n)],!0):o.includes(n)?(t=["Credit Card Type","".concat(n)],!0):!!s.includes(n)&&(t=["Payment Method","".concat(n)],!0)}));o.setState({sort:t,action:"Sort",searchInput:""},(function(){return o.renderPage(c)}))},o.fetchRecords=Object(u.a)(l.a.mark((function e(){var n,t,c,s,r,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.enye.tech/v1/challenge/records");case 2:return n=e.sent,e.next=5,n.json();case 5:for(t=e.sent,c=t.records.profiles,s=Object(p.a)(c),r=[],a=0;a<=s.length;a++)i=s.splice(0,20),r.push(i);o.setState({profiles:Object(p.a)(c),pages:[].concat(r)},(function(){o.state.profiles.length>1&&o.setState({fetchSuccess:!0})}));case 11:case"end":return e.stop()}}),e)}))),o.searchSort=function(){var e;o.state.sort&&(e=Object(c.jsxs)("span",{className:"search-sort",children:["Showing results sorted by ","".concat(o.state.sort[0],' : "').concat(o.state.sort[1],'"')]}));var n=Object(c.jsxs)("span",{className:"search-sort",children:["Showing search results for ",'"'.concat(o.state.searchInput,'"')]});return"search"===o.state.action?n:e},o.state={profiles:null,pages:null,fetchSuccess:!1,searchInput:"",toggle:!1,sort:null,action:null},o}return Object(h.a)(t,[{key:"componentDidMount",value:function(){this.defaultProfileView()}},{key:"render",value:function(){var e=this,n=this.state.toggle;return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("div",{className:"navbar",children:[Object(c.jsx)("header",{className:"header",onClick:this.closeMenu,children:" Patient Profiles "}),this.state.fetchSuccess?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(z,{id:"nav-button",toggle:!!n,onClick:this.handleToggle,children:Object(c.jsx)(O.a,{icon:this.state.toggle?v.e:v.b})}),Object(c.jsxs)("nav",{id:"sortMenu",children:[Object(c.jsx)("h2",{children:"Filter by"}),Object(c.jsx)(E,{profiles:this.state.profiles,handleSort:this.handleSort}),Object(c.jsx)("div",{id:"clear-filter",className:"dropdown",children:Object(c.jsxs)("button",{onClick:function(){e.defaultProfileView(),e.closeMenu()},children:["Clear filters ",Object(c.jsx)(O.a,{icon:v.e})]})})]})]}):null]}),Object(c.jsxs)("form",{method:"post",onSubmit:function(n){n.preventDefault(),e.defaultProfileView()},onClick:this.closeMenu,children:[Object(c.jsx)("label",{htmlFor:"searchBar",children:Object(c.jsx)(O.a,{icon:v.d,size:"lg"})}),Object(c.jsx)("input",{id:"searchBar",type:"text",placeholder:"Search by name",value:this.state.searchInput,onChange:this.handleSearch,className:"search-input",autoComplete:"off"}),""!==this.state.searchInput?Object(c.jsx)("button",{children:Object(c.jsx)(O.a,{icon:v.e})}):null]}),Object(c.jsxs)("section",{id:"profile_container",onClick:this.closeMenu,children:[this.state.action?this.searchSort():null,this.state.fetchSuccess?Object(c.jsx)(N,{pages:this.state.pages,records:this.state.profiles}):Object(c.jsx)("h1",{children:"Loading..."})]}),Object(c.jsx)(F,{id:"backToTop",onClick:I,children:Object(c.jsx)(O.a,{icon:v.a})})]})}}]),t}(s.a.Component),D=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,s=n.getLCP,r=n.getTTFB;t(e),c(e),o(e),s(e),r(e)}))};a.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(B,{})}),document.getElementById("root")),D()}},[[42,1,2]]]);
//# sourceMappingURL=main.f210b3b3.chunk.js.map